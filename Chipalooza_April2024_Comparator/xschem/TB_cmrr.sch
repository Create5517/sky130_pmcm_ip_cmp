v {xschem version=3.4.4 file_version=1.2
}
G {}
K {}
V {}
S {}
E {}
T {CACE testbench cmrr} 1190 -950 0 0 0.8 0.8 {}
T {Differential Gain
} 750 -750 0 0 0.6 0.6 {}
T {common-mode gain
} 2010 -750 0 0 0.6 0.6 {}
N 1060 -430 1200 -430 {
lab=voutAD}
N 1200 -430 1490 -430 {
lab=voutAD}
N 240 -610 880 -610 {
lab=#net1}
N 240 -610 240 -200 {
lab=#net1}
N 920 -610 920 -490 {
lab=#net1}
N 880 -610 920 -610 {
lab=#net1}
N 880 -580 880 -500 {
lab=#net2}
N 320 -580 880 -580 {
lab=#net2}
N 310 -580 310 -200 {
lab=#net2}
N 830 -550 830 -520 {
lab=#net3}
N 430 -550 430 -200 {
lab=#net3}
N 640 -330 820 -330 {
lab=#net4}
N 850 -320 850 -290 {
lab=#net5}
N 720 -290 850 -290 {
lab=#net5}
N 720 -290 720 -200 {
lab=#net5}
N 870 -320 870 -240 {
lab=#net6}
N 800 -240 870 -240 {
lab=#net6}
N 880 -210 880 -200 {
lab=#net7}
N 900 -210 910 -210 {
lab=#net7}
N 910 -360 910 -210 {
lab=#net7}
N 950 -360 950 -210 {
lab=#net8}
N 950 -210 970 -210 {
lab=#net8}
N 970 -210 970 -200 {
lab=#net8}
N 240 -130 970 -130 {
lab=VSUB}
N 190 -130 240 -130 {
lab=VSUB}
N 520 -130 520 -90 {
lab=VSUB}
N 430 -550 830 -550 {
lab=#net3}
N 310 -580 320 -580 {
lab=#net2}
N 500 -210 500 -200 {
lab=#net9}
N 640 -330 640 -250 {
lab=#net4}
N 640 -190 640 -150 {
lab=VSUB}
N 800 -240 800 -230 {
lab=#net6}
N 800 -170 800 -140 {
lab=VSUB}
N 640 -140 640 -130 {
lab=VSUB}
N 240 -140 240 -130 {
lab=VSUB}
N 310 -140 310 -130 {
lab=VSUB}
N 430 -140 430 -130 {
lab=VSUB}
N 500 -140 500 -130 {
lab=VSUB}
N 640 -150 640 -140 {
lab=VSUB}
N 720 -140 720 -130 {
lab=VSUB}
N 800 -140 800 -130 {
lab=VSUB}
N 970 -140 970 -130 {
lab=VSUB}
N 880 -140 880 -130 {
lab=VSUB}
N 730 -520 730 -480 {
lab=#net9}
N 730 -480 760 -480 {
lab=#net9}
N 730 -400 760 -400 {
lab=#net10}
N 500 -440 500 -210 {
lab=#net9}
N 500 -520 730 -520 {
lab=#net9}
N 500 -520 500 -440 {
lab=#net9}
N 1450 -430 1450 -340 {
lab=voutAD}
N 590 -400 730 -400 {
lab=#net10}
N 580 -400 580 -190 {
lab=#net10}
N 1420 -280 1450 -280 {
lab=VSUB}
N 580 -400 590 -400 {
lab=#net10}
N 580 -360 600 -360 {
lab=#net10}
N 660 -360 680 -360 {
lab=voutAD}
N 2610 -440 2750 -440 {
lab=voutACM}
N 2750 -440 3040 -440 {
lab=voutACM}
N 1790 -620 2430 -620 {
lab=#net11}
N 1790 -620 1790 -210 {
lab=#net11}
N 2470 -620 2470 -500 {
lab=#net11}
N 2430 -620 2470 -620 {
lab=#net11}
N 2430 -590 2430 -510 {
lab=#net12}
N 1870 -590 2430 -590 {
lab=#net12}
N 1860 -590 1860 -210 {
lab=#net12}
N 2380 -560 2380 -530 {
lab=#net13}
N 1980 -560 1980 -210 {
lab=#net13}
N 2190 -340 2370 -340 {
lab=#net14}
N 2400 -330 2400 -300 {
lab=#net15}
N 2270 -300 2400 -300 {
lab=#net15}
N 2270 -300 2270 -210 {
lab=#net15}
N 2420 -330 2420 -250 {
lab=#net16}
N 2350 -250 2420 -250 {
lab=#net16}
N 2430 -220 2430 -210 {
lab=#net17}
N 2430 -220 2450 -220 {
lab=#net17}
N 2450 -220 2460 -220 {
lab=#net17}
N 2460 -370 2460 -220 {
lab=#net17}
N 2500 -370 2500 -220 {
lab=#net18}
N 2500 -220 2520 -220 {
lab=#net18}
N 2520 -220 2520 -210 {
lab=#net18}
N 1790 -140 2520 -140 {
lab=VSUB}
N 1740 -140 1790 -140 {
lab=VSUB}
N 2070 -140 2070 -100 {
lab=VSUB}
N 1980 -560 2380 -560 {
lab=#net13}
N 1860 -590 1870 -590 {
lab=#net12}
N 2050 -220 2050 -210 {
lab=#net19}
N 2190 -340 2190 -260 {
lab=#net14}
N 2190 -200 2190 -160 {
lab=VSUB}
N 2350 -250 2350 -240 {
lab=#net16}
N 2350 -180 2350 -150 {
lab=VSUB}
N 2190 -150 2190 -140 {
lab=VSUB}
N 1790 -150 1790 -140 {
lab=VSUB}
N 1860 -150 1860 -140 {
lab=VSUB}
N 1980 -150 1980 -140 {
lab=VSUB}
N 2050 -150 2050 -140 {
lab=VSUB}
N 2190 -160 2190 -150 {
lab=VSUB}
N 2270 -150 2270 -140 {
lab=VSUB}
N 2350 -150 2350 -140 {
lab=VSUB}
N 2520 -150 2520 -140 {
lab=VSUB}
N 2430 -150 2430 -140 {
lab=VSUB}
N 2280 -530 2280 -490 {
lab=#net19}
N 2280 -490 2310 -490 {
lab=#net19}
N 2280 -410 2310 -410 {
lab=#net20}
N 2050 -450 2050 -220 {
lab=#net19}
N 2050 -530 2280 -530 {
lab=#net19}
N 2050 -530 2050 -450 {
lab=#net19}
N 3000 -440 3000 -350 {
lab=voutACM}
N 2130 -410 2130 -200 {
lab=#net21}
N 2970 -290 3000 -290 {
lab=VSUB}
N 2130 -370 2150 -370 {
lab=#net21}
N 2210 -370 2230 -370 {
lab=voutACM}
N 2130 -470 2220 -470 {
lab=#net20}
N 2220 -470 2220 -410 {
lab=#net20}
N 2220 -410 2280 -410 {
lab=#net20}
N 880 -210 900 -210 {
lab=#net7}
C {devices/lab_pin.sym} 1490 -430 2 0 {name=p8 sig_type=std_logic lab=voutAD


}
C {devices/vsource.sym} 310 -170 0 0 {name=Vavdd value="DC \{Vavdd\}" savecurrent=false}
C {devices/vsource.sym} 240 -170 0 0 {name=Vdvdd value="DC \{Vdvdd\}" savecurrent=false}
C {devices/vsource.sym} 640 -220 0 0 {name=Vena value="DC 1.8" savecurrent=false}
C {devices/vsource.sym} 720 -170 0 0 {name=Vhyst0 value="DC 1.8" savecurrent=false}
C {devices/vsource.sym} 800 -200 0 0 {name=Vhyst1 value="DC 1.8" savecurrent=false}
C {devices/vsource.sym} 880 -170 0 0 {name=Vavss value="DC \{Vavss\}" savecurrent=false}
C {devices/vsource.sym} 970 -170 0 0 {name=Vdvss value="DC \{Vdvss\}" savecurrent=false}
C {devices/lab_pin.sym} 190 -130 0 0 {name=p1 sig_type=std_logic lab=VSUB}
C {devices/res.sym} 520 -60 0 0 {name=RSUB
value=0.01
device=resistor}
C {devices/gnd.sym} 520 -30 0 0 {name=l1 lab=GND}
C {devices/isource.sym} 430 -170 2 0 {name=Iibias value="DC \{ibias\}"}
C {Chipalooza_April2024_Comparator.sym} 910 -430 0 0 {name=XDUT}
C {devices/vsource.sym} 500 -170 0 0 {name=VVpos value="DC 1.65 AC 1" savecurrent=false}
C {devices/capa.sym} 580 -160 0 0 {name=C1
m=1
value=1e8
footprint=1206
device="ceramic capacitor"}
C {devices/res.sym} 630 -360 1 0 {name=R1
value=10k
footprint=1206
device=resistor
m=1}
C {devices/capa.sym} 1450 -310 0 0 {name=C4
m=1
value=10p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1420 -280 0 0 {name=p6 sig_type=std_logic lab=VSUB}
C {devices/lab_pin.sym} 680 -360 2 0 {name=p31 sig_type=std_logic lab=voutAD


}
C {devices/lab_pin.sym} 3040 -440 2 0 {name=p13 sig_type=std_logic lab=voutACM


}
C {devices/vsource.sym} 1860 -180 0 0 {name=Vavdd1 value="DC \{Vavdd\}" savecurrent=false}
C {devices/vsource.sym} 1790 -180 0 0 {name=Vdvdd1 value="DC \{Vdvdd\}" savecurrent=false}
C {devices/vsource.sym} 2190 -230 0 0 {name=Vena1 value="DC 1.8" savecurrent=false}
C {devices/vsource.sym} 2270 -180 0 0 {name=Vhyst2 value="DC 1.8" savecurrent=false}
C {devices/vsource.sym} 2350 -210 0 0 {name=Vhyst3 value="DC 1.8" savecurrent=false}
C {devices/vsource.sym} 2430 -180 0 0 {name=Vavss1 value="DC \{Vavss\}" savecurrent=false}
C {devices/vsource.sym} 2520 -180 0 0 {name=Vdvss1 value="DC \{Vdvss\}" savecurrent=false}
C {devices/lab_pin.sym} 1740 -140 0 0 {name=p15 sig_type=std_logic lab=VSUB}
C {devices/res.sym} 2070 -70 0 0 {name=RSUB1
value=0.01
device=resistor}
C {devices/gnd.sym} 2070 -40 0 0 {name=l2 lab=GND}
C {devices/isource.sym} 1980 -180 2 0 {name=Iibias1 value="DC \{ibias\}"}
C {Chipalooza_April2024_Comparator.sym} 2460 -440 0 0 {name=XDUT1}
C {devices/vsource.sym} 2050 -180 0 0 {name=VVpos1 value="DC 1.65 AC 1" savecurrent=false}
C {devices/capa.sym} 2130 -170 0 0 {name=C2
m=1
value=1e8
footprint=1206
device="ceramic capacitor"}
C {devices/res.sym} 2180 -370 1 0 {name=R2
value=10k
footprint=1206
device=resistor
m=1}
C {devices/capa.sym} 3000 -320 0 0 {name=C3
m=1
value=10p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 2970 -290 0 0 {name=p25 sig_type=std_logic lab=VSUB}
C {devices/lab_pin.sym} 2230 -370 2 0 {name=p26 sig_type=std_logic lab=voutACM



}
C {devices/vsource.sym} 2130 -440 0 0 {name=VVpos2 value="DC 0 AC 1" savecurrent=false}
C {sky130_fd_pr/corner.sym} -240 -845 0 0 {name=CORNER only_toplevel=true corner=tt}
C {devices/code_shown.sym} -1090 -1020 0 0 {name=NGSPICE
only_toplevel=true
value="* this option enables mos model bin 
* selection based on W/NF instead of W
*.option wnflag=1 
.option savecurrents
.option save all

.control

.param vdvdd=1.8 vavdd=3.3 rout=0 cout=1f
.param ibias=1u ena=1 Vhyst_0=1 Vhyst_1=1
.param vavss=0 vdvss=0


ac dec 20 1 1e12
plot V(voutACM)
plot db(V(voutAD)/V(voutACM))

write TB_cmrr.raw


*quit 0

.endc
"}
